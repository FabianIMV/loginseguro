{"ast":null,"code":"import React,{useState}from'react';import{Box,Button,Container,FormControl,FormLabel,Input,VStack,Heading,useToast,Text}from'@chakra-ui/react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[isLoading,setIsLoading]=useState(false);const[attempts,setAttempts]=useState(0);const toast=useToast();const validateInput=input=>{// Prevenir SQL Injection\nconst dangerousPatterns=[/SELECT.*FROM/i,/INSERT.*INTO/i,/UPDATE.*SET/i,/DELETE.*FROM/i,/<script>/i];return!dangerousPatterns.some(pattern=>pattern.test(input));};const handleSubmit=async e=>{e.preventDefault();if(!validateInput(email)||!validateInput(password)){toast({title:'Error',description:'Entrada inválida detectada',status:'error',duration:3000});return;}if(attempts>=3){toast({title:'Error',description:'Demasiados intentos fallidos. Por favor, espere 15 minutos.',status:'error',duration:5000});return;}setIsLoading(true);try{// Aquí iría la lógica de autenticación\n// Por ahora simularemos un error\nsetAttempts(prev=>prev+1);throw new Error('Credenciales inválidas');}catch(error){toast({title:'Error',description:error.message,status:'error',duration:3000});}finally{setIsLoading(false);}};return/*#__PURE__*/_jsx(Container,{maxW:\"container.sm\",py:10,children:/*#__PURE__*/_jsxs(VStack,{spacing:8,children:[/*#__PURE__*/_jsx(Heading,{children:\"Login Seguro\"}),/*#__PURE__*/_jsx(Box,{w:\"100%\",bg:\"white\",p:8,borderRadius:\"lg\",boxShadow:\"lg\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(VStack,{spacing:4,children:[/*#__PURE__*/_jsxs(FormControl,{isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Email\"}),/*#__PURE__*/_jsx(Input,{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),bg:\"gray.50\"})]}),/*#__PURE__*/_jsxs(FormControl,{isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Contrase\\xF1a\"}),/*#__PURE__*/_jsx(Input,{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),bg:\"gray.50\"})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",colorScheme:\"blue\",width:\"full\",isLoading:isLoading,isDisabled:attempts>=3,children:\"Ingresar\"}),attempts>0&&/*#__PURE__*/_jsxs(Text,{color:\"red.500\",fontSize:\"sm\",children:[\"Intentos fallidos: \",attempts,\"/3\"]})]})})})]})});}","map":{"version":3,"names":["React","useState","Box","Button","Container","FormControl","FormLabel","Input","VStack","Heading","useToast","Text","jsx","_jsx","jsxs","_jsxs","Login","email","setEmail","password","setPassword","isLoading","setIsLoading","attempts","setAttempts","toast","validateInput","input","dangerousPatterns","some","pattern","test","handleSubmit","e","preventDefault","title","description","status","duration","prev","Error","error","message","maxW","py","children","spacing","w","bg","p","borderRadius","boxShadow","onSubmit","isRequired","type","value","onChange","target","colorScheme","width","isDisabled","color","fontSize"],"sources":["/Users/Lenovo/Documents/GitHub/loginseguro/login-seguro-app/src/components/Login.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  Box,\n  Button,\n  Container,\n  FormControl,\n  FormLabel,\n  Input,\n  VStack,\n  Heading,\n  useToast,\n  Text,\n} from '@chakra-ui/react';\n\nexport default function Login() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [attempts, setAttempts] = useState(0);\n  const toast = useToast();\n\n  const validateInput = (input: string) => {\n    // Prevenir SQL Injection\n    const dangerousPatterns = [\n      /SELECT.*FROM/i,\n      /INSERT.*INTO/i,\n      /UPDATE.*SET/i,\n      /DELETE.*FROM/i,\n      /<script>/i,\n    ];\n    return !dangerousPatterns.some(pattern => pattern.test(input));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!validateInput(email) || !validateInput(password)) {\n      toast({\n        title: 'Error',\n        description: 'Entrada inválida detectada',\n        status: 'error',\n        duration: 3000,\n      });\n      return;\n    }\n\n    if (attempts >= 3) {\n      toast({\n        title: 'Error',\n        description: 'Demasiados intentos fallidos. Por favor, espere 15 minutos.',\n        status: 'error',\n        duration: 5000,\n      });\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      // Aquí iría la lógica de autenticación\n      // Por ahora simularemos un error\n      setAttempts(prev => prev + 1);\n      throw new Error('Credenciales inválidas');\n    } catch (error: any) {\n      toast({\n        title: 'Error',\n        description: error.message,\n        status: 'error',\n        duration: 3000,\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Container maxW=\"container.sm\" py={10}>\n      <VStack spacing={8}>\n        <Heading>Login Seguro</Heading>\n        <Box w=\"100%\" bg=\"white\" p={8} borderRadius=\"lg\" boxShadow=\"lg\">\n          <form onSubmit={handleSubmit}>\n            <VStack spacing={4}>\n              <FormControl isRequired>\n                <FormLabel>Email</FormLabel>\n                <Input\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  bg=\"gray.50\"\n                />\n              </FormControl>\n\n              <FormControl isRequired>\n                <FormLabel>Contraseña</FormLabel>\n                <Input\n                  type=\"password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  bg=\"gray.50\"\n                />\n              </FormControl>\n\n              <Button\n                type=\"submit\"\n                colorScheme=\"blue\"\n                width=\"full\"\n                isLoading={isLoading}\n                isDisabled={attempts >= 3}\n              >\n                Ingresar\n              </Button>\n\n              {attempts > 0 && (\n                <Text color=\"red.500\" fontSize=\"sm\">\n                  Intentos fallidos: {attempts}/3\n                </Text>\n              )}\n            </VStack>\n          </form>\n        </Box>\n      </VStack>\n    </Container>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
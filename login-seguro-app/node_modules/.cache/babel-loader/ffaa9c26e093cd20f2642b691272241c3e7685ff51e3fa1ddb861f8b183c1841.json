{"ast":null,"code":"import React,{useState}from'react';import{Box,Button,Container,FormControl,FormLabel,Input,VStack,Heading,useToast,Text}from'@chakra-ui/react';// Credenciales de prueba (en un caso real, esto estaría en el backend)\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TEST_CREDENTIALS={email:'test@test.com',password:'Test123!'// Contraseña segura de prueba\n};export default function Login(){const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[isLoading,setIsLoading]=useState(false);const[attempts,setAttempts]=useState(0);const toast=useToast();const validateInput=input=>{// Prevenir SQL Injection\nconst dangerousPatterns=[/SELECT.*FROM/i,/INSERT.*INTO/i,/UPDATE.*SET/i,/DELETE.*FROM/i,/<script>/i,/'/,// Prevenir comillas simples\n/;/,// Prevenir punto y coma\n/--/// Prevenir comentarios SQL\n];return!dangerousPatterns.some(pattern=>pattern.test(input));};const handleSubmit=async e=>{e.preventDefault();// Validar entrada para prevenir SQL Injection\nif(!validateInput(email)||!validateInput(password)){toast({title:'Error',description:'Entrada inválida detectada',status:'error',duration:3000});return;}// Verificar intentos fallidos\nif(attempts>=3){toast({title:'Error',description:'Demasiados intentos fallidos. Por favor, espere 15 minutos.',status:'error',duration:5000});return;}setIsLoading(true);try{// Simular validación de credenciales\nif(email===TEST_CREDENTIALS.email&&password===TEST_CREDENTIALS.password){toast({title:'Éxito',description:'Inicio de sesión exitoso',status:'success',duration:3000});// Aquí podrías redirigir al usuario o actualizar el estado\n}else{setAttempts(prev=>prev+1);throw new Error('Credenciales inválidas');}}catch(error){toast({title:'Error',description:error.message,status:'error',duration:3000});}finally{setIsLoading(false);}};return/*#__PURE__*/_jsx(Container,{maxW:\"container.sm\",py:10,children:/*#__PURE__*/_jsxs(VStack,{spacing:8,children:[/*#__PURE__*/_jsx(Heading,{children:\"Login Seguro\"}),/*#__PURE__*/_jsx(Box,{w:\"100%\",bg:\"white\",p:8,borderRadius:\"lg\",boxShadow:\"lg\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(VStack,{spacing:4,children:[/*#__PURE__*/_jsxs(FormControl,{isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Email\"}),/*#__PURE__*/_jsx(Input,{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),bg:\"gray.50\",placeholder:\"test@test.com\"})]}),/*#__PURE__*/_jsxs(FormControl,{isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Contrase\\xF1a\"}),/*#__PURE__*/_jsx(Input,{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),bg:\"gray.50\",placeholder:\"Test123!\"})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",colorScheme:\"blue\",width:\"full\",isLoading:isLoading,isDisabled:attempts>=3,children:\"Ingresar\"}),attempts>0&&/*#__PURE__*/_jsxs(Text,{color:\"red.500\",fontSize:\"sm\",children:[\"Intentos fallidos: \",attempts,\"/3\"]}),/*#__PURE__*/_jsxs(Text,{fontSize:\"sm\",color:\"gray.600\",children:[\"Credenciales de prueba:\",/*#__PURE__*/_jsx(\"br\",{}),\"Email: test@test.com\",/*#__PURE__*/_jsx(\"br\",{}),\"Contrase\\xF1a: Test123!\"]})]})})})]})});}","map":{"version":3,"names":["React","useState","Box","Button","Container","FormControl","FormLabel","Input","VStack","Heading","useToast","Text","jsx","_jsx","jsxs","_jsxs","TEST_CREDENTIALS","email","password","Login","setEmail","setPassword","isLoading","setIsLoading","attempts","setAttempts","toast","validateInput","input","dangerousPatterns","some","pattern","test","handleSubmit","e","preventDefault","title","description","status","duration","prev","Error","error","message","maxW","py","children","spacing","w","bg","p","borderRadius","boxShadow","onSubmit","isRequired","type","value","onChange","target","placeholder","colorScheme","width","isDisabled","color","fontSize"],"sources":["/Users/Lenovo/Documents/GitHub/loginseguro/login-seguro-app/src/components/Login.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  Box,\n  Button,\n  Container,\n  FormControl,\n  FormLabel,\n  Input,\n  VStack,\n  Heading,\n  useToast,\n  Text,\n} from '@chakra-ui/react';\n\n// Credenciales de prueba (en un caso real, esto estaría en el backend)\nconst TEST_CREDENTIALS = {\n  email: 'test@test.com',\n  password: 'Test123!' // Contraseña segura de prueba\n};\n\nexport default function Login() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [attempts, setAttempts] = useState(0);\n  const toast = useToast();\n\n  const validateInput = (input: string) => {\n    // Prevenir SQL Injection\n    const dangerousPatterns = [\n      /SELECT.*FROM/i,\n      /INSERT.*INTO/i,\n      /UPDATE.*SET/i,\n      /DELETE.*FROM/i,\n      /<script>/i,\n      /'/,  // Prevenir comillas simples\n      /;/,  // Prevenir punto y coma\n      /--/  // Prevenir comentarios SQL\n    ];\n    return !dangerousPatterns.some(pattern => pattern.test(input));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    // Validar entrada para prevenir SQL Injection\n    if (!validateInput(email) || !validateInput(password)) {\n      toast({\n        title: 'Error',\n        description: 'Entrada inválida detectada',\n        status: 'error',\n        duration: 3000,\n      });\n      return;\n    }\n\n    // Verificar intentos fallidos\n    if (attempts >= 3) {\n      toast({\n        title: 'Error',\n        description: 'Demasiados intentos fallidos. Por favor, espere 15 minutos.',\n        status: 'error',\n        duration: 5000,\n      });\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      // Simular validación de credenciales\n      if (email === TEST_CREDENTIALS.email && password === TEST_CREDENTIALS.password) {\n        toast({\n          title: 'Éxito',\n          description: 'Inicio de sesión exitoso',\n          status: 'success',\n          duration: 3000,\n        });\n        // Aquí podrías redirigir al usuario o actualizar el estado\n      } else {\n        setAttempts(prev => prev + 1);\n        throw new Error('Credenciales inválidas');\n      }\n    } catch (error: any) {\n      toast({\n        title: 'Error',\n        description: error.message,\n        status: 'error',\n        duration: 3000,\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Container maxW=\"container.sm\" py={10}>\n      <VStack spacing={8}>\n        <Heading>Login Seguro</Heading>\n        <Box w=\"100%\" bg=\"white\" p={8} borderRadius=\"lg\" boxShadow=\"lg\">\n          <form onSubmit={handleSubmit}>\n            <VStack spacing={4}>\n              <FormControl isRequired>\n                <FormLabel>Email</FormLabel>\n                <Input\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  bg=\"gray.50\"\n                  placeholder=\"test@test.com\"\n                />\n              </FormControl>\n\n              <FormControl isRequired>\n                <FormLabel>Contraseña</FormLabel>\n                <Input\n                  type=\"password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  bg=\"gray.50\"\n                  placeholder=\"Test123!\"\n                />\n              </FormControl>\n\n              <Button\n                type=\"submit\"\n                colorScheme=\"blue\"\n                width=\"full\"\n                isLoading={isLoading}\n                isDisabled={attempts >= 3}\n              >\n                Ingresar\n              </Button>\n\n              {attempts > 0 && (\n                <Text color=\"red.500\" fontSize=\"sm\">\n                  Intentos fallidos: {attempts}/3\n                </Text>\n              )}\n\n              <Text fontSize=\"sm\" color=\"gray.600\">\n                Credenciales de prueba:\n                <br />\n                Email: test@test.com\n                <br />\n                Contraseña: Test123!\n              </Text>\n            </VStack>\n          </form>\n        </Box>\n      </VStack>\n    </Container>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}